서버를 운영하다 보면 이용자의 증가, 트래픽의 증가, 사업 확장 등으로 추가적인 서버 용량과 성능이 필요하게 됩니다. 이럴 때에는 ‘스케일 아웃’과 ‘스케일 업’, 두 가지 방법으로 시스템을 확장시킬 수 있습니다.

![image](https://user-images.githubusercontent.com/79847020/162116014-08414e9c-1fc9-4e28-a1b4-ff51d6268aa3.png)


## Scale Out

‘스케일 아웃’이란 서버를 여러 대 추가하여 시스템을 확장하는 방법입니다. 서버를 추가로 확장하기 때문에 수평 스케일링(horizontal scaling)이라고도 부릅니다. 예를 들어, ‘1’의 처리 능력을 가진 서버에 동일한 서버 4대를 더 추가하여, 총 ‘5’의 처리 능력을 만드는 것입니다. 서버가 여러 대가 되기 때문에 각 서버에 걸리는 부하를 균등하게 해주는 ‘로드밸런싱’이 필수적으로 동반되어야 합니다. 스케일 아웃의 경우, 서버 한 대가 장애로 다운되더라도 다른 서버로 서비스 제공이 가능하다는 장점이 있습니다. 반면 모든 서버가 동일한 데이터를 가지고 있어야 하므로, 데이터 변화가 적은 ‘웹 서버’에 적합한 방식입니다. 클라우드 서비스에서는 자원 사용량을 모니터링하여 자동으로 서버를 증설(Scale Out)하는 Auto Scaling 기능도 있다.

## Scale Up

‘스케일 업’은 서버에 CPU나 RAM 등을 추가하거나 고성능의 부품, 서버로 교환하는 방법을 의미합니다. 이처럼 하나의 서버의 능력을 증강하기 때문에 수직 스케일링(vertical scaling)이라고도 합니다. 예를 들어, ‘1’의 처리 능력을 가진 서버 한 대를 ‘5’의 처리 능력을 가진 서버로 업그레이드시키는 것입니다. CPU나 RAM을 추가하기로 했다면 현재 서버에 추가 부품을 장착할 수 있는 여유 슬롯이 있어야 하며, 그렇지 않은 경우 서버 자체를 고성능으로 교체하는 것이 필요합니다. 스케일 업의 경우, 서버 한 대에 모든 부하가 집중되므로 장애 시 영향을 크게 받을 수 있는 위험성이 있습니다. 한 대의 서버에서 모든 데이터를 처리하므로 데이터 갱신이 빈번하게 일어나는 ‘데이터베이스 서버’에 적합한 방식입니다. 소프트웨어적인 예로는 AWS의 EC2 인스턴스 사양을 micro에서 small, small에서 medium 등으로 높이는 것으로 생각하면 된다.  

https://m.post.naver.com/viewer/postView.nhn?volumeNo=27046347&memberNo=2521903

## 활용

스케일아웃 방식이 레거시로서 취급되는 스케일업 방식보다 무조건 뛰어나다고 단언할 수는 없습니다. 제공할 애플리케이션의 종류나 스토리지의 용도 등에 따라 장단점이 있을 뿐입니다.

데이터베이스 워크로드 타입에 따라서 그에 적합한 확장 방식도 달라집니다. 빅데이터의 데이터 마이닝이나 검색엔진 데이터 분석 처리 등을 대표하는 OLAP(Online Analytical Processing) 애플리케이션 환경에서는 대량의 데이터 처리와 복잡한 쿼리가 이루어지기 때문에 스케일아웃 구성이 더 효율적이라고 할 수 있습니다. 반면 온라인 금융거래와 같이 워크플로우 기반에 빠르고 정확하면서 단순한 처리가 필요한 OLTP(Online Transaction Processing) 환경에서는 고성능의 스케일업 방식이 적합합니다.

백업용 스토리지를 구축하는 데 있어서 향후 수년간 데이터 증가 폭이 미미하거나 규모가 작은 경우 스케일업 방식으로 구축하는 편이 경제적일 수도 있습니다. 단지 백업하고자 하는 데이터가 수십 TB에서 페타바이트급을 넘어선다면 스케일아웃 스토리지를 도입하는 편이 성능 면과 비용효율 면에서 더욱 뛰어납니다. 복수의 노드에 부하 되는 백업 워크로드를 분산 시켜 백업속도를 높일 수 있고, 필요에 따른 유연한 확장을 할 수 있기 때문입니다. 또한, 중복제거(deduplication) 기능을 노드에 걸쳐서 적용할 수 있기 때문에 중복제거 효율도 더욱 높일 수 있습니다.

올플래시 스토리지의 경우는 조금 복잡합니다. 올플래시 스토리지 컨트롤러는 SSD의 고속 입출력을 지원할 수 있게 디자인되었기 때문에 기존 컨트롤러와는 달리 병목현상이 적다고 할 수 있습니다. 게다가 SSD는 공간 대비 용량이 커서 하드디스크보다 용량 확장의 한계가 낮은 편이고, 올플래시 시스템의 용도상 백업이나 아카이빙 보다는 데이터베이스나 가상화 환경에 사용되기 때문에 용량 확장에 덜 구애되는 편이라고 할 수 있습니다. 이와 같은 플래시의 특성으로 스케일업 방식의 단점이 보완되어 올플래시 스케일아웃 스토리지에 비해 넓은 사용처를 가집니다. 다만 그 이상의 유연성이나 성능 확장이 요구되면서 병렬 입출력 처리가 필요한 환경이라면 스케일아웃 방식이 타당한 선택이라 할 수 있겠습니다.
